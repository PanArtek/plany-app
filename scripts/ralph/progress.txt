# Ralph Progress Log
Started: Fri Feb 13 07:47:08 CET 2026
---

## US-001: DB migration — add new columns, type, migrate data
- Applied migration `017_flatten_labor_pricing` via Supabase
- Created TYPE cena_robocizny_zrodlo (biblioteka, podwykonawca, reczna)
- Added cena_robocizny to pozycje_biblioteka (nullable)
- Added cena_robocizny, cena_robocizny_zrodlowa, cena_robocizny_zrodlo, podwykonawca_id to kosztorys_pozycje
- Migrated biblioteka data: SUM(stawka_domyslna * norma_domyslna) → cena_robocizny
- Migrated kosztorys data: auto + manual → per-unit cena_robocizny
- Migrated podwykonawca_id from first skladowa (lp=1)
- Old tables preserved (biblioteka_skladowe_robocizna, kosztorys_skladowe_robocizna)
- npm run build passes
- Status: DONE
