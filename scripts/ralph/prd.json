{
  "project": "PLANY App",
  "branchName": "ralph/pozycje-kategorie-ux-v2",
  "description": "Pozycje & Kategorie UX v2 - uproszczenie tabeli, lepsza typografia, nawigacja hierarchiczna",
  "mode": "feature",
  "baseBranch": "main",
  "userStories": [
    {
      "id": "UX-001",
      "title": "Simplify pozycje-columns: remove Kategoria/Podkategoria",
      "description": "As a user, I want a cleaner table without redundant category columns.",
      "acceptanceCriteria": [
        "Remove 'kategoria' column definition from pozycje-columns.tsx",
        "Remove 'podkategoria' column definition from pozycje-columns.tsx",
        "Remove getKategoriaNames helper function",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Removed kategoria, podkategoria columns and getKategoriaNames helper. Build passes.",
      "dependsOn": []
    },
    {
      "id": "UX-002",
      "title": "Add actions column with edit/delete icons",
      "description": "As a user, I want to edit or delete a pozycja directly from the table row.",
      "acceptanceCriteria": [
        "Add 'akcje' column to pozycje-columns.tsx (w-[80px], last column)",
        "Column contains two icon buttons: Pencil and Trash2 (h-7 w-7, variant ghost)",
        "Buttons have onClick handlers that call onEdit(id) and onDelete(id)",
        "Column header is empty or just shows icon placeholder",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Converted pozycjeColumns to getPozycjeColumns function. Added onEdit/onDelete props to PozycjeTable. Created handleEditById/handleDeleteById in PozycjeView. stopPropagation on action buttons.",
      "dependsOn": ["UX-001"]
    },
    {
      "id": "UX-003",
      "title": "Add hover visibility for action icons",
      "description": "As a user, I want action icons visible only when hovering the row for cleaner UI.",
      "acceptanceCriteria": [
        "Add 'group' class to table row in pozycje-table.tsx",
        "Action icons have 'opacity-0 group-hover:opacity-100 transition-opacity' classes",
        "Icons appear smoothly on row hover",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Added group class to tr, opacity transition to action icons container. Build passes.",
      "dependsOn": ["UX-002"]
    },
    {
      "id": "UX-004",
      "title": "Wire up action icons to existing handlers",
      "description": "As a developer, I need action icons to trigger edit/delete flows.",
      "acceptanceCriteria": [
        "Update PozycjeTable to accept onEdit and onDelete props",
        "Pass handlers from PozycjeView to PozycjeTable",
        "Edit button opens PozycjaFormPanel in edit mode",
        "Delete button opens DeleteConfirmPanel",
        "Click on action buttons should NOT trigger row selection (stopPropagation)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 4,
      "passes": true,
      "notes": "Already implemented in UX-002. handleEditById/handleDeleteById in PozycjeView, stopPropagation on buttons.",
      "dependsOn": ["UX-003"]
    },
    {
      "id": "UX-005",
      "title": "Update typography to minimalist style",
      "description": "As a user, I want consistent typography with hierarchy through weight and color.",
      "acceptanceCriteria": [
        "Table headers: change from 'text-xs uppercase tracking-wider' to 'text-sm font-medium text-muted-foreground'",
        "Nazwa column: change to 'text-sm font-normal text-foreground'",
        "Jednostka column: add 'text-white/50' for muted look",
        "Cena column: add 'font-medium' for emphasis",
        "All columns use 'text-sm' consistently",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 5,
      "passes": true,
      "notes": "Updated all headers to text-sm font-medium text-muted-foreground. Updated Nazwa, Jednostka, Cena cells. Build passes.",
      "dependsOn": ["UX-004"]
    },
    {
      "id": "UX-006",
      "title": "Update branza-tabs to show full names",
      "description": "As a user, I want to see full branża names instead of 3-letter codes.",
      "acceptanceCriteria": [
        "Update branza-tabs.tsx to display: Budowlana, Elektryczna, Sanitarna, Teletechnika, HVAC",
        "Keep the same styling (glass container, amber glow on active)",
        "Tab buttons wider to accommodate full names",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 6,
      "passes": true,
      "notes": "Changed {kod} to {nazwa} in tab display. Full names already existed in BRANZE constant.",
      "dependsOn": []
    },
    {
      "id": "UX-007",
      "title": "Add kategoria dropdown filter to kategorie-view",
      "description": "As a user, I want to filter by kategoria to see only its podkategorie.",
      "acceptanceCriteria": [
        "Add Select dropdown after BranzaTabs in kategorie-view.tsx",
        "Options: 'Wszystkie kategorie' + list of kategorias from current branża",
        "Dropdown shows kategoria.nazwa for each option",
        "Selected value stored in component state",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": true,
      "notes": "Added Select with 'all' default + kategorie from current branza. State stored in selectedKategoriaId.",
      "dependsOn": ["UX-006"]
    },
    {
      "id": "UX-008",
      "title": "Filter kategorie-list based on dropdown selection",
      "description": "As a user, I want the grid to show only selected kategoria's children.",
      "acceptanceCriteria": [
        "When 'Wszystkie kategorie' selected: show all kategorie (current behavior)",
        "When specific kategoria selected: show only its podkategorie",
        "Pass filtered data to KategorieList component",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 8,
      "passes": true,
      "notes": "Filtered kategorie array based on selectedKategoriaId before passing to KategorieList.",
      "dependsOn": ["UX-007"]
    },
    {
      "id": "UX-009",
      "title": "Update kategorie-list to 3-column grid",
      "description": "As a user, I want kategorie displayed in a 3-column grid layout.",
      "acceptanceCriteria": [
        "Update kategorie-list.tsx grid classes to 'grid grid-cols-3 gap-4'",
        "Cards display in 3 columns on desktop",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 9,
      "passes": true,
      "notes": "Changed 'grid gap-3' to 'grid grid-cols-3 gap-4'. Build passes.",
      "dependsOn": ["UX-008"]
    },
    {
      "id": "UX-010",
      "title": "Adjust kategoria-card for grid layout",
      "description": "As a user, I want kompaktowe karty that fit well in 3-column grid.",
      "acceptanceCriteria": [
        "Update kategoria-card.tsx padding from p-4 to p-3",
        "Reduce icon button sizes if needed",
        "Card content remains readable and clickable",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 10,
      "passes": true,
      "notes": "Changed p-4 to p-3 in header, px-4 to px-3 in children. Build passes.",
      "dependsOn": ["UX-009"]
    },
    {
      "id": "UX-011",
      "title": "Final verification and build",
      "description": "As a developer, I want to verify all changes work together.",
      "acceptanceCriteria": [
        "npm run build passes without errors",
        "Verify /pozycje: table has 6 columns (Kod, Nazwa, Jednostka, Typ, Cena, Akcje)",
        "Verify row hover shows edit/delete icons",
        "Verify edit icon opens form panel",
        "Verify delete icon opens confirm panel",
        "Verify /kategorie/BUD: tabs show full names",
        "Verify dropdown filter works",
        "Verify grid shows 3 columns",
        "No console errors"
      ],
      "priority": 11,
      "passes": true,
      "notes": "Build passes. All file verifications pass. 6 columns in pozycje, action icons with hover opacity, tabs with full names, dropdown filter, 3-column grid, compact cards.",
      "dependsOn": ["UX-005", "UX-010"]
    }
  ]
}
